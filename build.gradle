// Make these plugins available for our project to use.
// Note "apply false" prevents these from being applied immediately to the root project.
// Plugins such as "java", "eclipse", "idea", etc. don't need to be defined here.

plugins {
	id "edu.wpi.first.GradleRIO" version "2018.06.21" apply false // Latest version that isn't 2019
	id "com.diffplug.gradle.spotless" version "3.15.0" apply false 
}


// Any configurations here are applied to the entire project
allprojects {
	// We want the entire project to be openable in an IDE
	apply plugin: "idea"
	apply plugin: "eclipse"

    dependencies {

    }
}

subprojects {
	apply plugin: "java" // All our code is written in Java
//	apply plugin: "com.diffplug.gradle.spotless" // Autoformatting plugin
	apply plugin: "edu.wpi.first.GradleRIO"

    repositories {
		jcenter()
		mavenCentral()
		mavenLocal()
		flatDir {
			// The directory lib is available as a source for dependencies - we put any JAR files here
			// The directory lib will always be one folder "above" a subproject folder - thus the ".."
			dirs '../lib'
		}
	}

	dependencies {
		compile wpilib() // We can't build without this in every project

		testCompile group: 'junit', name: 'junit', version: '4.12' // Basic Unit Testing
		testCompile group: 'org.mockito', name: 'mockito-all', version: '1.10.19' // Allows you to create mock objects using unit testing
	}

//	spotless {
//		java {
//			googleJavaFormat() // Auto-format using Google's standards
//		}
//	}

}

task wrapper(type: Wrapper) {
    gradleVersion = '4.4'
}
